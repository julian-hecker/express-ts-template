# Express TypeScript Template

Express is a highly unopinionated framework, so it can be hard to know if you are making right decisions with your tooling. This template will hopefully provide a useful starting point for your projects to hit the ground running with a good structure and workflow.

## Usage

Simply clone the repo and get started developing! There are a couple of settings you should first change in `package.json`, like package name, version, apidoc configuration, etc.

## Features

- Typescript configured with automatic dev script and testing
- Dependency Injection via `typedi` package
- API Documentation generated by `apidoc`
- Express app preconfigured with several modern and useful middlewares.
  - HTTP Errors via `http-error` package and included error handling
  - Request logging via the `morgan` package
  - Several optimizations via `helmet`, `compression` packages.

### Documentation

You can generate REST API Documentation using the [apiDoc](https://apidocjs.com) package. Simply run `npm run docs` to generate a documentation webpage. You should use the apidoc comment syntax to document your `*.routes.ts` files.

In `package.json`, there is a key called `apidoc` which you can use to configure the documentation output. You should modify the included key fields to match your project.

## Structure

```bash
express-typescript-template
├───src
│   ├───config # environment variables, database connections
│   ├───features # group related features together
│   │   └───feature
│   │       ├───index.ts # exports the things in the feature
│   │       ├───feature.controller.ts # controllers called in routes
│   │       ├───feature.model.ts # typescript object interface
│   │       ├───feature.repository.ts # handles database access
│   │       ├───feature.routes.ts # handles incoming traffic
│   │       └───feature.service.ts # business logic between controller and database access
│   ├───middlewares # global middlewares, used by many routes
│   └───utils # global utilities, used in many places
└───test # structure mimics src directory structure
```

## Testing

Testing is done using the Jest framework. Simply run `npm run test` to activate the test framework. By default, tests are stored in the `test` directory which mimics the structure of the `src` directory.

## Resources

- [How to write a production-ready Node and Express app](https://www.freecodecamp.org/news/how-to-write-a-production-ready-node-and-express-app-f214f0b17d8c/)
- [Bulletproof node.js project architecture](https://dev.to/santypk4/bulletproof-node-js-project-architecture-4epf)
- [REST Resource Naming Guide](https://restfulapi.net/resource-naming/)
- [Dependency Injection in TypeScript](https://levelup.gitconnected.com/dependency-injection-in-typescript-2f66912d143c)
- [Unit Tests with Jest: Node + Express + TS](https://losikov.medium.com/part-4-node-js-express-typescript-unit-tests-with-jest-5204414bf6f0)
